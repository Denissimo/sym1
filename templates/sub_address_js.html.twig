{#<input id="address" name="address" type="text" size="100"/>#}
<link href="https://cdn.jsdelivr.net/npm/suggestions-jquery@18.8.0/dist/css/suggestions.min.css" type="text/css" rel="stylesheet" />
{#<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>#}
<!--[if lt IE 10]>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxtransport-xdomainrequest/1.0.1/jquery.xdomainrequest.min.js"></script>
<![endif]-->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/suggestions-jquery@18.8.0/dist/js/jquery.suggestions.min.js"></script>
<script type="text/javascript">
    $("#address_reg").suggestions({
        token: "53d8a06683944866455eb1eb05c5fe5df33d788b",
//        token: "7bb5d27b33e60de38bfbbcd47207132ef007fb4f",
        type: "ADDRESS",
        count: 5,
        /* Вызывается, когда пользователь выбирает одну из подсказок */
        onSelect: function(suggestion) {
            var data = suggestion.data;
            fill(data, '');
        }
    });

    $("#address_live").suggestions({
        token: "53d8a06683944866455eb1eb05c5fe5df33d788b",
//        token: "7bb5d27b33e60de38bfbbcd47207132ef007fb4f",
        type: "ADDRESS",
        count: 5,
        /* Вызывается, когда пользователь выбирает одну из подсказок */
        onSelect: function(suggestion) {
            var data = suggestion.data;
            fill(data, 1);
        }
    });

    $("#address_job").suggestions({
        token: "53d8a06683944866455eb1eb05c5fe5df33d788b",
//        token: "7bb5d27b33e60de38bfbbcd47207132ef007fb4f",
        type: "ADDRESS",
        count: 5,
        /* Вызывается, когда пользователь выбирает одну из подсказок */
        onSelect: function(suggestion) {
            var data = suggestion.data;
            fill_job(data);
        }
    });

    $("#adressidentical").click(function(e){
        e.preventDefault();
        $("#field_index1").val($("#field_index").val());
        $("#field_region1").val($("#field_region").val());
        $("#field_city1").val($("#field_city").val());
        $("#field_street1").val($("#field_street").val());
        $("#field_house1").val($("#field_house").val());
        $("#field_building1").val($("#field_building").val());
        $("#field_structure1").val($("#field_structure").val());
        $("#field_apartment1").val($("#field_apartment").val());
        return false;
    });

    function fill(data, prefix) {
        console.log('#field_index');
        $('#field_index' + prefix).val(data.postal_code);
        $('#field_region' + prefix).val(data.region);
        $('#field_city' + prefix).val(data.city);
        $('#field_street' + prefix).val(data.street);
        $('#field_house' + prefix).val(data.house);
        if (data.block_type == 'к') {
            $('#field_building' + prefix).val(data.block);
            $('#field_structure' + prefix).val('')
        }
        if (data.block_type == 'стр') {
            $('#field_structure' + prefix).val(data.block);
            $('#field_building' + prefix).val('');
        }
        if (data.block_type == null) {
            $('#field_structure' + prefix).val('');
            $('#field_building' + prefix).val('');
        }

        $('#field_apartment' + prefix).val(data.flat);
        console.log(data.block_type);
    }

    function fill_job(data) {
        $('#field_work_region').val(data.region);
        $('#field_work_city').val(data.city);
        $('#field_work_street').val(data.street);
        $('#field_work_house_num').val(data.house);
    }
</script>